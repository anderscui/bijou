# 文本多分类-以搜代分

在某种抽象的层面上，分类与检索是想通的，即都是把一条输入”对应“到另一个列表的某一项上。

方法学习一般思路：

* 核心思路：方法具体是如何做的
* 深入理解：所以然
* 特点与优缺点
* 适用场景

# 核心思路

先通过挖掘得到在每个分类中最具标志性、覆盖较为完整的备选 query，存入检索库中。检索可以是传统的倒排索引，也可以是语义向量索引。输入新的 query 时，检索库中与其最相近的备选 query，然后将 query 的分类确定最近的备选 query 所属分类。

## 准备

入检索库：

* 分词、倒排索引
* 向量索引：需要一个较为可靠的语义相似度模型

## 预测

通过检索得到一批与原始 query 相似的结果，然后使用规则和重排，得到与之最接近的 query，从而得到其分类。

# 深入理解

检索式对话：库里有很多的 qa pair，给定一个 query，找到一个与之最接近的 q，将对应的 a 返回。可以将其理解为每个 q 为一个分类，对 query 进行分类，将其分配到最接近的一个 q 分类。

## KNN

在库中找出最接近的若干样本，看其多数属于那个分类，与此处类似。

## 覆盖度问题（召回）

如果某个类的备选 query 覆盖度不够，那么 query 的类不能召回。

# 特点与优缺点

优点：

* 对于简单覆盖的分类，可以挖掘到对应类别的各种 query 作为备选 query；
* 可控性强，准确率高：对于一个简单的类，添加几条备选 query，即可进行分类；可以动态扩展；
* 语义相似度模型的构建相对简单
* 可以处理超多分类的问题

缺点：

* 需要足量备选 query

# 适用场景

* 类别下情形较为简单，或可枚举；
* 需要快速上线
* 分类极多
* 不太好构造分类的训练样本

